- defaults:
    shell:
      stderr: true
      stdout: true

- sudo:
    - shell:
      - [test -f /usr/bin/yq || wget https://github.com/mikefarah/yq/releases/latest/download/yq_linux_amd64 -O /usr/bin/yq && chmod +x /usr/bin/yq]
      - >
        for pkg in $(cat dotbot/apt.yaml | grep -v '\s+#' | yq '.[2].apt'); do
          echo $pkg;
          apt-get install --yes --purge --reinstall $pkg 1>/dev/null;
        done;
      - [dpkg --get-selections | grep hold | xargs -x apt-get autoremove]

- apt:
    bat
    exa
    flatpak
    fonts-recommended
    gh
    gnome-screensaver
    gnome-shell-extensions
    gnome-software-plugin-flatpak
    gthumb
    network-manager-fortisslvpn-gnome
    openssh-server
    python3-all-dev
    1password
    1password-cli
    alacarte
    apt-transport-https
    aspell-fr
    baobab
    bleachbit
    bluemon
    bluez
    build-essential
    ca-certificates
    chrome-gnome-shell
    colorized-logs
    colortest
    conky-all
    containerd.io
    curl
    dconf-cli
    dconf-editor
    dconf-tools
    dkms
    dnsutils
    docker-ce
    docker-ce-cli
    docker-compose-plugin
    fd-find
    figlet
    flashplugin-installer
    fontconfig
    fonts-arundina
    fonts-dejavu
    fonts-dejavu-extra
    fonts-emojione
    fonts-font-awesome
    fonts-hack
    fonts-noto-color-emoji
    fonts-noto-mono
    fonts-powerline
    fonts-symbola
    fonts-twemoji-svginot
    fritzing
    gawk
    gconf-editor
    gconf2
    gdebi
    gettext
    git
    gnome-calendar
    gnome-screenshot
    gnome-tweak-tool
    gnome-tweaks
    gnupg
    gnupg-agent
    google-chrome-stable
    gparted
    graphviz
    gsettings-desktop-schemas
    gsmartcontrol
    guake
    hibernate
    htop
    indicator-application
    jq
    libvulkan-dev
    libvulkan1
    llvm-7
    llvm-7-dev
    make
    mariadb-client-10.3
    meld
    nautilus-dropbox
    net-tools
    nmap
    pm-utils
    python3
    python3-argcomplete
    python3-cairo
    python3-dbus
    python3-dev
    python3-gi
    python3-gpg
    python3-pbr
    python3-pip
    python3-pygments
    python3-setuptools
    screen
    shellcheck
    silversearcher-ag
    smartmontools
    smem
    snap
    snapd
    software-properties-common
    ssh-askpass
    stacer
    sublime-text
    sudo
    traceroute
    trash-cli
    ttf-ancient-fonts-symbola
    ttf-bitstream-vera
    ttf-dejavu
    ttf-dejavu-extra
    tweak
    ubuntu-advantage-tools
    ubuntu-restricted-extras
    upx-ucl
    vlc
    wget
    xclip
    xss-lock
    yaru-theme-gnome-shell
    zsh
    zshdb
