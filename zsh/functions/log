
function log() {
  local level="$1"

	local silenced_levels=("debug" "env")

	if ((SHELL_DEBUG)); then
		if [[ ${silenced_levels[@]} =~ $level ]]; then
			return
		fi
	fi

	shift

	eval "log_$level '$@'"
}
