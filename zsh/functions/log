
function log() {
  local level="$1"

	local silenced_levels=("debug" "env")

	if [ ! "$SHELL_DEBUG" = "true" ]; then
		if [[ ${silenced_levels[@]} =~ $level ]]; then
			return
		fi
	fi

	shift

	eval "log_$level '$@'"
}
