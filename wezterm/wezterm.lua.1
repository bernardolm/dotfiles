local wezterm = require "wezterm"

local config = wezterm.config_builder()

config.font = wezterm.font_with_fallback({
	"JetBrains Mono",
	"Fira Code",
	"Noto Color Emoji",
	"Apple Color Emoji",
})

-- -- Creates a lua table containing the name of every color scheme WezTerm
-- -- ships with.
-- local scheme_names = {}
-- for name, scheme in pairs(wezterm.color.get_builtin_schemes()) do
--   table.insert(scheme_names, name)
-- end

-- -- When the config for a window is reloaded (i.e. when you save this file
-- -- or open a new window)...
-- wezterm.on('window-config-reloaded', function(window, pane)
--   -- Don't proceed if the config has already been overriden, otherwise
--   -- we'll enter an infinite loop of neverending colour scheme changes.
--   -- If that sounds like your kinda thing, then remove this line ;) - but
--   -- don't say you haven't been warned.
--   if window:get_config_overrides() then return end
--   -- Pick a random colour scheme name.
--   local scheme = scheme_names[math.random(#scheme_names)]
--   -- Assign it as an override for this window.
--   window:set_config_overrides { color_scheme = scheme }
--   -- And log it for good measure
--   wezterm.log_info("Your colour scheme is now: " .. scheme)
-- end)

-- config.window_background_gradient = {
-- 	-- preset = "BuPu",
-- 	-- preset = "CubeHelixDefault",
-- 	preset = "Magma",
-- 	-- preset = "Plasma",
-- 	-- preset = "PuRd",
-- 	-- preset = "RdBu",
-- 	-- preset = "RdPu",
-- 	-- preset = "Spectral",
-- 	-- preset = "Turbo",
-- 	-- preset = "Viridis",
-- 	-- preset = "Warm",
-- 	orientation = { Linear = { angle = -45.0 } },
-- }

-- config.wsl_domains = {
	-- {
	-- The name of this specific domain.  Must be unique amonst all types
	-- of domain in the configuration file.
	-- name = 'WSL:Ubuntu-18.04',

	-- The name of the distribution.  This identifies the WSL distribution.
	-- It must match a valid distribution from your `wsl -l -v` output in
	-- order for the domain to be useful.
	-- distribution = 'Ubuntu-18.04',

	-- The username to use when spawning commands in the distribution.
	-- If omitted, the default user for that distribution will be used.

	-- username = "hunter",

	-- The current working directory to use when spawning commands, if
	-- the SpawnCommand doesn't otherwise specify the directory.

	-- default_cwd = "/tmp"

	-- The default command to run, if the SpawnCommand doesn't otherwise
	-- override it.  Note that you may prefer to use `chsh` to set the
	-- default shell for your user inside WSL to avoid needing to
	-- specify it here

	-- default_prog = {"fish"}
--   },
-- }

-- config.window_frame = {
--   -- IoskeleyMono Nerd Font Light for me again, though an idea could be to try a
--   -- serif font here instead of monospace for a nicer look?
--   font = wezterm.font({ family = 'IoskeleyMono Nerd Font Light', weight = 'Bold' }),
--   font_size = 11,
-- }

-- Use it!
-- local appearance = require 'appearance'
-- if appearance.is_dark() then
--   config.color_scheme = 'Tokyo Night'
-- else
--   config.color_scheme = 'Tokyo Night Day'
-- end

-- config.color_scheme = 'Aci (Gogh)'
-- config.color_scheme = 'AdventureTime'
-- config.color_scheme = 'Andromeda'
-- config.color_scheme = 'Argonaut'
-- config.color_scheme = 'Catppuccin Frappe'
-- config.color_scheme = 'Catppuccin Latte'
-- config.color_scheme = 'Catppuccin Macchiato'
-- config.color_scheme = 'Catppuccin Mocha'
-- On macOS, 'RESIZE|INTEGRATED_BUTTONS' also looks nice if
-- Removes the title bar, leaving only the tab bar. Keeps
-- Sets the font for the window frame (tab bar)
-- Slightly transparent and blurred background
-- the ability to resize by dragging the window's edges.
-- them into the tab bar.
-- you want to keep the window controls visible and integrate
config.color_scheme = 'Tokyo Night'
config.enable_tab_bar = true
config.font_size = 15
config.harfbuzz_features = { "calt=1", "clig=1", "liga=1" }
config.hide_tab_bar_if_only_one_tab = false
config.macos_window_background_blur = 30
config.ssh_domains = wezterm.default_ssh_domains()
config.text_background_opacity = 0.3
config.use_fancy_tab_bar = true
config.window_background_opacity = 0.9
config.window_decorations = 'RESIZE'

return config
